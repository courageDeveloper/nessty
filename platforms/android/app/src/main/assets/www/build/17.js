webpackJsonp([17],{545:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"PostPageModule",function(){return r});var o=n(0),i=n(16),s=n(579),a=this&&this.__decorate||function(e,t,n,o){var i,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},r=function(){function e(){}return e=a([Object(o.NgModule)({declarations:[s.a],imports:[i.n.forChild(s.a)]})],e)}()},579:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var o=n(0),i=n(16),s=n(90),a=this&&this.__decorate||function(e,t,n,o){var i,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t,n,o,i,s){this.navCtrl=e,this.app=t,this.firebaseService=n,this.modalCtrl=o,this.navParams=i,this.viewCtrl=s,this.message="",this.data="",this.textLeft=250,this.toggled=!1,this.user={},this.posts={content:""}}return e.prototype.ionViewDidLoad=function(){var e=this;console.log("ionViewDidLoad PostPage"),void 0==this.firebaseService.getUser()&&null==this.firebaseService.getUser()||this.firebaseService.getUser().snapshotChanges().subscribe(function(t){e.arrayItem=[];var n=t.payload.toJSON();n.$key=t.key,e.user=n})},e.prototype.ionViewDidEnter=function(e){this.quote="When the whole class is arguing over the answer being 27 or 28 and you got 278"},e.prototype.closePost=function(){this.viewCtrl.dismiss()},e.prototype.textLength=function(e){this.textLeft=250-e.length},e.prototype.post=function(e){console.log(e),e.hearts=0,e.comments=0,e.time=(new Date).getTime()/1e3,this.firebaseService.post(e),this.firebaseService.usersObject.points+=1,this.firebaseService.updateUser2(this.firebaseService.usersObject),this.navCtrl.push("TabsPage")},e.prototype.signOut=function(){console.log("Logged Out"),this.viewCtrl.dismiss(),this.firebaseService.logout(),this.app.getRootNav().push("LoginFlatPage"),localStorage.removeItem("userId")},e.prototype.handleSelection=function(e){this.message=this.message+" "+e.char},e.prototype.navTag=function(){var e=this,t=this.modalCtrl.create("TagboardPage");t.onDidDismiss(function(t){t&&(t.name=t.name.replace(/ +/g,""),e.posts.content=e.posts.content+" #"+t.name.toLowerCase()+" ")}),t.present()},e=a([Object(o.Component)({selector:"page-post",template:'\x3c!--\n  Generated template for the PostPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n--\x3e\n<ion-header>\n\n  <ion-toolbar>\n\n    <ion-buttons class="button">\n      <button (click)="closePost()" ion-button icon-only menuToggle>\n      <ion-icon class="icon-color" name="md-close"></ion-icon>\n    </button>\n    </ion-buttons>\n\n    <ion-buttons start>\n      <button (click)="signOut()" ion-button icon-only>\n          <ion-icon name="ios-exit"></ion-icon>\n        </button>\n    </ion-buttons>\n  </ion-toolbar>\n\n</ion-header>\n\n\n<ion-content no-padding class="background-image">\n  <div class="bg-color">\n    <div id="parent" class="position">\n      <h1 class="subtext"><strong>Give advice, share opinions or ask a question!</strong></h1>\n      <form margin-top class="text-item">\n        <ion-item class="border">\n          <ion-label>\n            <ion-avatar item-left>\n              <img *ngIf="user.image!=\'\'" [alt]="user.username" [src]="user.image" class="avatar" width="60" height="60">\n              <img *ngIf="user.image==\'\'" [alt]="user.username" src="assets/images/blue-bird-with-green.png" class="avatar" width="60" height="60">\n            </ion-avatar>\n          </ion-label>\n          <ion-textarea value="my name" name="message" rows="7" maxLength="250" class="text-size" placeholder="Hi! What is on your mind?"\n            [(ngModel)]="posts.content" (ngModelChange)="textLength($event)"></ion-textarea>\n        </ion-item>\n\n        <ion-row>\n          <ion-col>\n            <button item-left class="tag" ion-button small (click)="navTag()">\n               Tag It?\n                </button>\n          </ion-col>\n          <ion-col center text-center>\n            <button ion-button medium color="secondary" (click)="post(posts)">\n               POST\n                </button>\n            <span item-right class="icon-num"> {{textLeft}} </span>\n          </ion-col>\n        </ion-row>\n      </form>\n    </div>\n  </div>\n</ion-content>'}),r("design:paramtypes",[i.q,i.d,s.a,i.p,i.r,i.x])],e)}()}});