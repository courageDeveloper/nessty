webpackJsonp([23],{535:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),t.d(e,"LoginFlatModule",function(){return r});var o=t(0),i=t(16),a=t(561),s=this&&this.__decorate||function(n,e,t,o){var i,a=arguments.length,s=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,o);else for(var r=n.length-1;r>=0;r--)(i=n[r])&&(s=(a<3?i(s):a>3?i(e,t,s):i(e,t))||s);return a>3&&s&&Object.defineProperty(e,t,s),s},r=function(){function n(){}return n=s([Object(o.NgModule)({declarations:[a.a],imports:[i.n.forChild(a.a)],exports:[a.a],schemas:[o.CUSTOM_ELEMENTS_SCHEMA]})],n)}()},561:function(n,e,t){"use strict";t.d(e,"a",function(){return l});var o=t(0),i=t(16),a=t(90),s=this&&this.__decorate||function(n,e,t,o){var i,a=arguments.length,s=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,o);else for(var r=n.length-1;r>=0;r--)(i=n[r])&&(s=(a<3?i(s):a>3?i(e,t,s):i(e,t))||s);return a>3&&s&&Object.defineProperty(e,t,s),s},r=this&&this.__metadata||function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)},l=function(){function n(n,e,t){var o=this;this.navCtrl=n,this.navParams=e,this.firebaseService=t,this.user={username:"",password:"",email:"",points:0,image:"",status:"",online:!1},this.onEvent=function(n){("onLogin"!=n||o.validate())&&o.events[n]&&o.events[n]({username:o.username,password:o.password})},this.isUsernameValid=!0,this.isPasswordValid=!0}return n.prototype.login=function(n){var e=this;console.log(n),this.errorMessage=" ",this.firebaseService.login(n).catch(function(n){e.errorMessage=n.message}).then(function(n){e.emailVerification=JSON.parse(localStorage.getItem("emailVerification")),null!=e.errorMessage&&" "!=e.errorMessage||(console.log(e.emailVerification),setTimeout(function(){if(console.log(e.emailVerification),1==e.emailVerification){console.log(e.firebaseService.usersObject);var n=e.firebaseService.usersObject.$key;e.localStorageItem=localStorage.setItem("userId",n),e.firebaseService.usersObject.points+=1,e.firebaseService.updateUser2(e.firebaseService.usersObject),e.navCtrl.push("FirstpostPage")}else 0==e.emailVerification&&(e.errorMessage="Please verify email before permitted to login, if verified click login button again")},1e3))})},n.prototype.validate=function(){return this.isUsernameValid=!0,this.isPasswordValid=!0,this.username&&0!=this.username.length||(this.isUsernameValid=!1,console.log("please add data")),this.password&&0!=this.password.length||(this.isPasswordValid=!1),this.isPasswordValid&&this.isUsernameValid},n.prototype.navLogin=function(){this.navCtrl.push("RegisterPage")},n.prototype.navReset=function(){this.navCtrl.push("ResetpasswordPage")},s([Object(o.Input)(),r("design:type",Object)],n.prototype,"data",void 0),s([Object(o.Input)(),r("design:type",Object)],n.prototype,"events",void 0),n=s([Object(o.Component)({selector:"login-flat",template:'\x3c!-- Themes  register-flat--\x3e\n\n<ion-content class="background-image" *ngIf="data != null">\n\n  <ion-grid no-padding class="bg-color">\n\n    \x3c!-- logo --\x3e\n\n    <ion-row header align-items-start align-items-stretch>\n\n      \x3c!-- Section form>--\x3e\n\n      <ion-col col-10 offset-1 col-md-6 offset-md-3>\n\n        <form padding>\n\n          <ion-row class="wlm-msg" align-items-start>\n\n            <ion-col align-self-baseline col-12>\n\n              <ion-list text-center>\n\n                <img src="assets/images/Nesstynew.png" width="200px" height="200px" />\n\n              </ion-list>\n\n              <h1><strong>Yay, let\'s talk!</strong> {{data.subtitle}}</h1>\n\n            </ion-col>\n\n          </ion-row>\n\n          \x3c!-- Input-field --\x3e\n\n          <ion-row>\n\n            <ion-col col-12>\n\n              <div input-field>\n\n                \x3c!-- Input-field-text --\x3e\n\n                <ion-item no-padding>\n\n                  <ion-input class="text-input" type="text" placeholder="Email" [(ngModel)]="user.email" [ngModelOptions]="{standalone: true}"></ion-input>\n\n                  \x3c!--               <ion-label no-margin *ngIf="!isUsernameValid">{{data.errorUser}}</ion-label>\n\n --\x3e</ion-item>\n\n                \x3c!-- Input-field-password --\x3e\n\n                <ion-item no-padding>\n\n                  <ion-input class="text-input" type="password" [placeholder]="data.txtPassword" [(ngModel)]="user.password" [ngModelOptions]="{standalone: true}"></ion-input>\n\n                  \x3c!-- <ion-label no-margin *ngIf="!isPasswordValid">{{data.errorPassword}}</ion-label> --\x3e\n\n                </ion-item>\n\n              </div>\n\n              <ion-label color="danger" class="error-size" *ngIf="errorMessage" no-margin>{{errorMessage}}</ion-label>\n\n              \x3c!-- Login button --\x3e\n\n              <ion-col col-12 no-padding>\n\n                <button no-margin ion-button color="primary" full text-uppercase (click)="login(user)">{{data.btnLogin}}</button>\n\n              </ion-col>\n\n\n\n              \x3c!-- Description --\x3e\n\n              <div description text-center>\n\n                <ion-row>\n\n                  \x3c!-- Reset your password button --\x3e\n\n                  <ion-col col-12 no-padding no-margin>\n\n                    <p no-margin no-padding class="lbl-color">{{data.txtForgotPassword}} <a (click)="navReset()">{{data.btnResetYourPassword}}</a> </p>\n\n                  </ion-col>\n\n                  \x3c!-- Signup now button --\x3e\n\n                  <ion-col col-12 padding>\n\n                    <p no-margin no-padding>{{data.txtSignupnow}} <a (click)="navLogin()">{{data.btnSignupnow}}</a> </p>\n\n                  </ion-col>\n\n                </ion-row>\n\n              </div>\n\n            </ion-col>\n\n          </ion-row>\n\n        </form>\n\n      </ion-col>\n\n    </ion-row>\n\n  </ion-grid>\n\n</ion-content>'}),r("design:paramtypes",[i.q,i.r,a.a])],n)}()}});