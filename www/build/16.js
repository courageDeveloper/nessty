webpackJsonp([16],{547:function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),i.d(n,"RegisterPageModule",function(){return a});var o=i(0),t=i(16),s=i(581),r=this&&this.__decorate||function(e,n,i,o){var t,s=arguments.length,r=s<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,n,i,o);else for(var a=e.length-1;a>=0;a--)(t=e[a])&&(r=(s<3?t(r):s>3?t(n,i,r):t(n,i))||r);return s>3&&r&&Object.defineProperty(n,i,r),r},a=function(){function e(){}return e=r([Object(o.NgModule)({declarations:[s.a],imports:[t.n.forChild(s.a)]})],e)}()},581:function(e,n,i){"use strict";i.d(n,"a",function(){return c});var o=i(0),t=i(16),s=i(31),r=i(90),a=this&&this.__decorate||function(e,n,i,o){var t,s=arguments.length,r=s<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,n,i,o);else for(var a=e.length-1;a>=0;a--)(t=e[a])&&(r=(s<3?t(r):s>3?t(n,i,r):t(n,i))||r);return s>3&&r&&Object.defineProperty(n,i,r),r},l=this&&this.__metadata||function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},c=function(){function e(e,n,i,o){this.navCtrl=e,this.navParams=n,this.formBuilder=i,this.firebaseService=o,this.users={},this.years=[],this.disable=!1,this.emailValidate="[A-Za-z0-9._%+-]{3,}@[a-zA-Z]{3,}([.]{1}[a-zA-Z]{2,}|[.]{1}[a-zA-Z]{2,}[.]{1}[a-zA-Z]{2,})",this.emailForm=new s.c({email:new s.b})}return e.prototype.ionViewDidLoad=function(){this.selectedStatus="Graduate",this.slides.lockSwipes(!0),console.log("ionViewDidLoad RegisterPage"),this.years=[{name:"Graduate"},{name:"Freshman"},{name:"Sophomore"},{name:"Junior"},{name:"Senior"}],this.emailForm=this.formBuilder.group({email:["",s.h.compose([s.h.required,s.h.pattern(this.emailValidate)])]})},e.prototype.ionViewDidEnter=function(){this.selectedStatus="Graduate",this.slides.lockSwipes(!0),this.years=[{name:"Freshman"},{name:"Sophomore"},{name:"Junior"},{name:"Senior"},{name:"Graduate"}],this.startSlide=this.slides.isBeginning(),this.emailForm=this.formBuilder.group({email:["",s.h.compose([s.h.required,s.h.pattern(this.emailValidate)])]})},e.prototype.backlogin=function(){this.navCtrl.push("LoginFlatPage")},e.prototype.slideChanged=function(){this.slides.getActiveIndex();this.slides.lockSwipes(!0),this.startSlide=this.slides.isBeginning()},e.prototype.emailNext=function(){this.emailForm.valid&&(this.slides.lockSwipes(!1),this.slides.slideNext(500,!0))},e.prototype.next=function(){this.slides.lockSwipes(!1),this.slides.slideNext(500,!0),this.errorMessage=" "},e.prototype.prev=function(){this.slides.lockSwipes(!1),this.slides.slidePrev(500,!0)},e.prototype.chooseImage=function(e){console.log(e)},e.prototype.checkUser=function(){var e=this;this.disable=!1,this.errorMessageUser="",this.firebaseService.getAllUsers().snapshotChanges().subscribe(function(n){e.usersArray=[],n.forEach(function(n){var i=n.payload.toJSON();i.$key=n.key,e.usersArray.push(i)}),e.usersArray.forEach(function(n){e.users.username.toLowerCase()==n.username.toLowerCase()&&(e.errorMessageUser="This user already exists",e.disable=!0)})})},e.prototype.checkEmail=function(){var e=this;this.disable=!1,this.errorMessageUser="",this.firebaseService.getAllUsers().snapshotChanges().subscribe(function(n){e.usersArray=[],n.forEach(function(n){var i=n.payload.toJSON();i.$key=n.key,e.usersArray.push(i)}),e.usersArray.forEach(function(n){e.users.email==n.email&&(e.errorMessageUser="This email already exists",e.disable=!0)})})},e.prototype.submit=function(e){var n=this;e.points=0,e.blobFile="",e.image="",e.online=!0,this.firebaseService.signUp(e).then(function(i){n.errorMessage=n.firebaseService.errorMessage,null!=n.errorMessage&&" "!=n.errorMessage||(n.navCtrl.push("verifyPage",{user:e}),n.firebaseService.verifyEmail(e.email))}).catch(function(e){console.log(e)})},a([Object(o.ViewChild)(t.u),l("design:type",t.u)],e.prototype,"slides",void 0),e=a([Object(o.Component)({selector:"page-register",template:'\x3c!--\n  Generated template for the RegisterPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n--\x3e\n\x3c!-- Themes  register-flat--\x3e\n<ion-content class="background-image">\n  <ion-grid no-padding class="bg-color">\n    <ion-row header align-items-start align-items-stretch>\n      \x3c!-- Section form>--\x3e\n      <ion-col col-10 offset-1 col-md-6 offset-md-3>\n        <ion-slides (ionSlideDidChange)="slideChanged()">\n          <ion-slide>\n            <form padding>\n              <ion-row class="wlm-msg" align-items-start>\n                <ion-col align-self-baseline col-12>\n                  <ion-list text-center>\n                    <img src="assets/images/Nesstynew.png" class="img-size" />\n                  </ion-list>\n                  <h1 class="align-center"><strong>Hi! Get ready to make college the best years of your life</strong></h1>\n                </ion-col>\n              </ion-row>\n              \x3c!-- Input-field --\x3e\n              <ion-row>\n                <ion-col col-12>\n                  <div input-field>\n                    \x3c!-- Input-field-text --\x3e\n                    <ion-item no-padding>\n                      <ion-input class="text-input" name="username" type="text" placeholder="Username (Use real or anonymous)" [(ngModel)]="users.username" (ngModelChange)="checkUser()" [ngModelOptions]="{standalone: true}" required></ion-input>\n                    </ion-item>\n                  </div>\n                  <ion-label color="danger" no-margin>{{errorMessageUser}}</ion-label>\n                  <br>\n                  <ion-col col-12 no-padding>\n                    <button no-margin ion-button color="primary" full text-uppercase (click)="next()" [disabled]="!users.username || disable">Next</button>\n                  </ion-col>\n                </ion-col>\n                \x3c!-- Login button --\x3e\n                <ion-col col-12 padding>\n                  <p no-margin class="login" no-padding>Already have an account? <a class="anchor-color" (click)="backlogin()">Login</a> </p>\n                </ion-col>\n              </ion-row>\n            </form>\n          </ion-slide>\n          <ion-slide>\n            <form padding>\n              <ion-row class="wlm-msg" align-items-start>\n                <ion-col align-self-baseline col-12>\n                  <ion-list text-center>\n                    <img src="assets/images/Nesstynew.png" class="img-size" />\n                  </ion-list>\n                  <h1 class="align-center"><strong>Hi! Get ready to make college the best years of your life</strong></h1>\n                </ion-col>\n              </ion-row>\n              \x3c!-- Input-field --\x3e\n              <ion-row>\n                <ion-col col-12>\n                  <div input-field>\n                    \x3c!-- Input-field-password --\x3e\n                    <ion-item no-padding>\n                      <ion-input class="text-input" type="password" placeholder="Password" name="password" [(ngModel)]="users.password" [ngModelOptions]="{standalone: true}" required></ion-input>\n                      \x3c!-- <ion-label no-margin *ngIf="!isPasswordValid">{{data.errorPassword}}</ion-label> --\x3e\n                    </ion-item>\n                  </div>\n                  <br>\n                  \x3c!-- Login button --\x3e\n                  <ion-col col-12 no-padding>\n                    <button no-margin ion-button color="primary" full text-uppercase (click)="next()" [disabled]="!users.password">Next</button>\n                  </ion-col>\n                </ion-col>\n              </ion-row>\n            </form>\n          </ion-slide>\n          <ion-slide>\n            <form padding [formGroup]="emailForm">\n              <ion-row class="wlm-msg" align-items-start>\n                <ion-col align-self-baseline col-12>\n                  <ion-list text-center>\n                    <img src="assets/images/Nesstynew.png" class="img-size" />\n                  </ion-list>\n                  <h1 class="align-center"><strong>Hi! Get ready to make college the best years of your life</strong></h1>\n                </ion-col>\n              </ion-row>\n              \x3c!-- Input-field --\x3e\n              <ion-row>\n                <ion-col col-12>\n                  <div input-field>\n                    \x3c!-- Input-field-email --\x3e\n                    <ion-item no-padding>\n                      <ion-input class="text-input" type="email" name="email" placeholder="Email" [formControl]="emailForm.controls[\'email\']" [(ngModel)]="users.email" (ngModelChange)="checkEmail()" required></ion-input>\n                    </ion-item>\n                    <ion-label color="danger" class="error-size" *ngIf="!emailForm.controls.email.valid && emailForm.controls.email.dirty" no-margin>Please enter a valid email.</ion-label>\n                  </div>\n                  <ion-label color="danger" no-margin>{{errorMessageUser}}</ion-label>\n                  <br>\n                  \x3c!-- Login button --\x3e\n                  <ion-col col-12 no-padding>\n                    <button no-margin ion-button color="primary" full text-uppercase (click)="emailNext()" [disabled]="!users.email || disable">Next</button>\n                  </ion-col>\n                </ion-col>\n              </ion-row>\n            </form>\n          </ion-slide>\n          <ion-slide>\n            <form padding>\n              <ion-row class="wlm-msg" align-items-start>\n                <ion-col align-self-baseline col-12>\n                  <ion-list text-center>\n                    <img src="assets/images/Nesstynew.png" class="img-size" />\n                  </ion-list>\n                  <h1 class="align-center"><strong>Hi! Get ready to make college the best years of your life</strong></h1>\n                </ion-col>\n              </ion-row>\n              \x3c!-- Input-field --\x3e\n              <ion-row>\n                <ion-col col-12>\n                  <div input-field>\n                    <ion-item>\n                      <ion-label class="select-label">Select Status</ion-label>\n                      <ion-select class="select-input" name="year" [(ngModel)]="users.status">\n                        <ion-option *ngFor="let year of years" [value]="year.name" [selected]="selectedStatus == year.name">{{year.name}}</ion-option>\n                      </ion-select>\n                    </ion-item>\n                  </div>\n                  <ion-label color="danger" class="error-size" *ngIf="errorMessage" no-margin>{{errorMessage}}</ion-label>\n                  <br>\n                  \x3c!-- Login button --\x3e\n                  <ion-col col-12 no-padding>\n                    <button no-margin ion-button color="primary" full text-uppercase (click)="submit(users)" [disabled]="!users.status">Submit</button>\n                  </ion-col>\n                </ion-col>\n              </ion-row>\n            </form>\n          </ion-slide>\n        </ion-slides>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n   <ion-fab bottom right *ngIf="!startSlide">\n    <button ion-fab color="primary" (click)="prev()" mini> <ion-icon name="arrow-back">  </ion-icon> </button>\n  </ion-fab>\n</ion-content>'}),l("design:paramtypes",[t.q,t.r,s.a,r.a])],e)}()}});