webpackJsonp([24],{203:function(e,t){function o(e){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+e+"'.")})}o.keys=function(){return[]},o.resolve=o,e.exports=o,o.id=203},244:function(e,t,o){function s(e){var t=i[e];return t?o.e(t[1]).then(function(){return o(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}var i={"../components/login/login-flat/login-flat.module":[535,23],"../pages/alerts/alerts.module":[536,5],"../pages/boards/boards.module":[537,4],"../pages/boardselect/boardselect.module":[538,22],"../pages/editprofile/editprofile.module":[539,0],"../pages/firstpost/firstpost.module":[540,21],"../pages/home-page/home-page.module":[541,20],"../pages/login-flat-page/login-flat-page.module":[542,1],"../pages/password/password.module":[543,19],"../pages/passwordreseted/passwordreseted.module":[544,18],"../pages/post/post.module":[545,17],"../pages/profile/profile.module":[546,3],"../pages/register/register.module":[547,16],"../pages/resetpassword/resetpassword.module":[548,15],"../pages/resetrequest/resetrequest.module":[549,14],"../pages/tabs/tabs.module":[550,13],"../pages/tagboard/tagboard.module":[551,12],"../pages/verified/verified.module":[552,11],"../pages/verify/verify.module":[553,10],"../pages/viewalert/viewalert.module":[554,9],"../pages/viewpic/viewpic.module":[555,8],"../pages/viewpost/viewpost.module":[556,7],"../pages/wall/wall.module":[557,2],"../pages/welcome/welcome.module":[558,6]};s.keys=function(){return Object.keys(i)},s.id=244,e.exports=s},305:function(e,t,o){"use strict";o.d(t,"a",function(){return p});var s=o(164),i=o(134),r=o(0),a=o(502),n=(o.n(a),o(17)),l=o(90),u=this&&this.__decorate||function(e,t,o,s){var i,r=arguments.length,a=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,o):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,s);else for(var n=e.length-1;n>=0;n--)(i=e[n])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,o){this.http=e,this.firebaseService=t,this.httpClient=o,this.page=1}return Object.defineProperty(e,"parameters",{get:function(){return[[s.b]]},enumerable:!0,configurable:!0}),e.prototype.sendData=function(e){var t="http://facebook.us14.list-manage.com/subscribe/post-json?u=2c0f7baa8dc004a62ff3922e3&id=456928d791&EMAIL="+encodeURI(e)+"&b_2c0f7baa8dc004a62ff3922e3_456928d791";return this.http.get(t).map(function(e){return e.json()})},e.prototype.getBoards=function(){var e=this,t=new s.a;return t.append("Content-Type","application/json"),this.http.get("https://www.healthbootcamps.com/wp-json/wp/v2/posts?page="+this.page+"&categories=707+718+720+715+714+717+711+721+727+713+712+719+728+722",{headers:t}).pipe(Object(n.map)(function(e){return e.json()})).pipe(Object(n.catchError)(function(t){throw e.errorMessage=t.json(),console.log(t.json()),t}))},e.prototype.getHeaders=function(){var e=this,t=new s.a;return t.append("Content-Type","application/json"),this.http.get("https://www.healthbootcamps.com/wp-json/wp/v2/posts?page="+this.page+"&categories=707+718+720+715+714+717+711+721+727+713+712+719+728+722",{headers:t}).pipe(Object(n.catchError)(function(t){throw e.errorMessage=t.json(),console.log(t.json()),t}))},e.prototype.getCategories=function(){var e=this,t=new s.a;return t.append("Content-Type","application/json"),this.http.get("https://www.healthbootcamps.com/wp-json/wp/v2/categories?include=707+718+720+715+714+717+711+721+727+713+712+719+728+722&per_page=100",{headers:t}).pipe(Object(n.map)(function(e){return e.json()})).pipe(Object(n.catchError)(function(t){throw e.errorMessage=t.json(),console.log(t.json()),t}))},e=u([Object(r.Injectable)(),c("design:paramtypes",[s.b,l.a,i.a])],e)}()},307:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var s=o(16),i=o(0),r=this&&this.__decorate||function(e,t,o,s){var i,r=arguments.length,a=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,o):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,s);else for(var n=e.length-1;n>=0;n--)(i=e[n])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},n=function(){function e(e){this.toastCtrl=e}return e.prototype.presentToast=function(e){var t={duration:1e3,position:"buttom"};t.message=e;this.toastCtrl.create(t).present()},e=r([Object(i.Injectable)(),a("design:paramtypes",[s.v])],e)}()},308:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o(309),i=(o(439),o(441));Object(s.a)().bootstrapModule(i.a)},439:function(e,t,o){"use strict";var s=o(440);o.n(s)},441:function(e,t,o){"use strict";o.d(t,"a",function(){return j});var s=o(35),i=o(0),r=o(16),a=o(527),n=o(164),l=o(134),u=o(530),c=o(301),p=o(302),d=o(257),m=o(307),f=o(532),g=o(135),h=o(163),y=o(245),b=o(533),w=o(304),v=o(306),P=o(90),R=this&&this.__decorate||function(e,t,o,s){var i,r=arguments.length,a=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,o):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,s);else for(var n=e.length-1;n>=0;n--)(i=e[n])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},C={apiKey:"AIzaSyAvmO6mCpbRBgIyMNub0iZncrwzXNLGtfA",authDomain:"nessty-be23f.firebaseapp.com",databaseURL:"https://nessty-be23f.firebaseio.com",projectId:"nessty-be23f",storageBucket:"nessty-be23f.appspot.com",messagingSenderId:"744746575299"},j=function(){function e(){}return e=R([Object(i.NgModule)({declarations:[a.a],imports:[s.BrowserModule,n.c,l.b,v.a,b.a,u.a,r.m.forRoot(a.a,{},{links:[{loadChildren:"../components/login/login-flat/login-flat.module#LoginFlatModule",name:"LoginFlat",segment:"login-flat",priority:"low",defaultHistory:[]},{loadChildren:"../pages/alerts/alerts.module#AlertsPageModule",name:"AlertsPage",segment:"alerts",priority:"low",defaultHistory:[]},{loadChildren:"../pages/boards/boards.module#BoardsPageModule",name:"BoardsPage",segment:"boards",priority:"low",defaultHistory:[]},{loadChildren:"../pages/boardselect/boardselect.module#BoardselectPageModule",name:"BoardselectPage",segment:"boardselect",priority:"low",defaultHistory:[]},{loadChildren:"../pages/editprofile/editprofile.module#EditprofilePageModule",name:"EditprofilePage",segment:"editprofile",priority:"low",defaultHistory:[]},{loadChildren:"../pages/firstpost/firstpost.module#FirstpostPageModule",name:"FirstpostPage",segment:"firstpost",priority:"low",defaultHistory:[]},{loadChildren:"../pages/home-page/home-page.module#HomePageModule",name:"HomePage",segment:"home-page",priority:"low",defaultHistory:[]},{loadChildren:"../pages/login-flat-page/login-flat-page.module#LoginFlatPageModule",name:"LoginFlatPage",segment:"login-flat-page",priority:"low",defaultHistory:[]},{loadChildren:"../pages/password/password.module#PasswordPageModule",name:"PasswordPage",segment:"password",priority:"low",defaultHistory:[]},{loadChildren:"../pages/passwordreseted/passwordreseted.module#passwordresetedPageModule",name:"passwordresetedPage",segment:"passwordreseted",priority:"low",defaultHistory:[]},{loadChildren:"../pages/post/post.module#PostPageModule",name:"PostPage",segment:"post",priority:"low",defaultHistory:[]},{loadChildren:"../pages/profile/profile.module#ProfilePageModule",name:"ProfilePage",segment:"profile",priority:"low",defaultHistory:[]},{loadChildren:"../pages/register/register.module#RegisterPageModule",name:"RegisterPage",segment:"register",priority:"low",defaultHistory:[]},{loadChildren:"../pages/resetpassword/resetpassword.module#ResetpasswordPageModule",name:"ResetpasswordPage",segment:"resetpassword",priority:"low",defaultHistory:[]},{loadChildren:"../pages/resetrequest/resetrequest.module#resetrequestPageModule",name:"resetrequestPage",segment:"resetrequest",priority:"low",defaultHistory:[]},{loadChildren:"../pages/tabs/tabs.module#TabsPageModule",name:"TabsPage",segment:"tabs",priority:"low",defaultHistory:[]},{loadChildren:"../pages/tagboard/tagboard.module#TagboardPageModule",name:"TagboardPage",segment:"tagboard",priority:"low",defaultHistory:[]},{loadChildren:"../pages/verified/verified.module#verifiedPageModule",name:"verifiedPage",segment:"verified",priority:"low",defaultHistory:[]},{loadChildren:"../pages/verify/verify.module#verifyPageModule",name:"verifyPage",segment:"verify",priority:"low",defaultHistory:[]},{loadChildren:"../pages/viewalert/viewalert.module#ViewalertPageModule",name:"ViewalertPage",segment:"viewalert",priority:"low",defaultHistory:[]},{loadChildren:"../pages/viewpic/viewpic.module#ViewpicPageModule",name:"ViewpicPage",segment:"viewpic",priority:"low",defaultHistory:[]},{loadChildren:"../pages/viewpost/viewpost.module#ViewpostPageModule",name:"ViewpostPage",segment:"viewpost",priority:"low",defaultHistory:[]},{loadChildren:"../pages/wall/wall.module#WallPageModule",name:"WallPage",segment:"wall",priority:"low",defaultHistory:[]},{loadChildren:"../pages/welcome/welcome.module#WelcomePageModule",name:"WelcomePage",segment:"welcome",priority:"low",defaultHistory:[]}]}),g.a.initializeApp(C),h.b,y.b],bootstrap:[r.k],entryComponents:[a.a],schemas:[i.CUSTOM_ELEMENTS_SCHEMA],providers:[c.a,p.a,m.a,f.a,d.a,w.a,{provide:i.ErrorHandler,useClass:r.l},P.a]})],e)}()},527:function(e,t,o){"use strict";o.d(t,"a",function(){return m});var s=o(0),i=o(16),r=o(301),a=o(302),n=o(90),l=o(305),u=o(528),c=o(529),p=this&&this.__decorate||function(e,t,o,s){var i,r=arguments.length,a=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,o):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,s);else for(var n=e.length-1;n>=0;n--)(i=e[n])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},m=function(){function e(e,t,o,s,i,r,a,n){var l=this;this.platform=e,this.statusBar=t,this.splashScreen=o,this.httpService=s,this.alertCtrl=i,this.mailChimpService=r,this.firebaseDynamicLinks=a,this.firebaseService=n,this.regex=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.rootPage="RegisterPage",this.platform.ready().then(function(){l.statusBar.styleDefault(),l.splashScreen.hide(),localStorage.setItem("mailChimpLocal","true")}),this.userId=localStorage.getItem("userId"),console.log(this.userId),this.emailVerification=JSON.parse(localStorage.getItem("emailVerification")),console.log(this.emailVerification),void 0!=this.userId||null!=this.userId?this.rootPage="TabsPage":void 0==this.emailVerification||null==this.emailVerification?this.rootPage="RegisterPage":0==this.emailVerification?this.rootPage="verifyPage":1==this.emailVerification&&(this.rootPage="LoginFlatPage")}return e=p([Object(s.Component)({template:'<ion-nav [root]="rootPage"></ion-nav>\n\n',providers:[l.a,u.a,c.a]}),d("design:paramtypes",[i.t,r.a,a.a,l.a,i.b,u.a,c.a,n.a])],e)}()},528:function(e,t,o){"use strict";o.d(t,"a",function(){return s});var s=function(){function e(){}return e.prototype.showMailChimpForm=function(){var e="true"==localStorage.getItem("mailChimp"),t="true"==localStorage.getItem("mailChimpLocal");return!e&&t},e.prototype.setMailChimpForm=function(e){localStorage.setItem("mailChimpLocal",e+"")},e.prototype.hideMailChimp=function(){localStorage.setItem("mailChimp","true")},e}()},532:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var s=o(16),i=o(0),r=this&&this.__decorate||function(e,t,o,s){var i,r=arguments.length,a=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,o):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,s);else for(var n=e.length-1;n>=0;n--)(i=e[n])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},n=function(){function e(e){this.loadingCtrl=e}return e.prototype.show=function(){this.loading=this.loadingCtrl.create({content:"Please wait..."}),this.loading.present()},e.prototype.hide=function(){this.loading.dismiss()},e=r([Object(i.Injectable)(),a("design:paramtypes",[s.o])],e)}()},90:function(e,t,o){"use strict";o.d(t,"a",function(){return d});var s=o(134),i=o(0),r=o(245),a=o(163),n=o(16),l=o(247),u=(o.n(l),o(490),o(249),o(493),o(257)),c=this&&this.__decorate||function(e,t,o,s){var i,r=arguments.length,a=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,o):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,s);else for(var n=e.length-1;n>=0;n--)(i=e[n])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t,o,s,i){var r=this;this.http=e,this.firebasedb=t,this.alertCtrl=o,this.afAuth=s,this._CAMERA=i,this.alertListRef=l.database().ref("alerts"),this.commentListRef=l.database().ref("comments"),this.categoryListRef=l.database().ref("categories"),this.postListRef=l.database().ref("posts"),this.userListRef=l.database().ref("users"),this.postLikeRef=l.database().ref("postlikes"),this.authenticated=!1,this.limit=50,this.userAuth=l.auth().currentUser,console.log("Hello FirebaseServiceProvider Provider"),this.user=s.authState,console.log(this.user),this.afAuth.authState.subscribe(function(e){void 0!=e&&null!=e&&(r.userObject=e),void 0==r.getUser()&&null==r.getUser()||r.getUser().snapshotChanges().subscribe(function(e){r.arrayItem=[];var t=e.payload.toJSON();t.$key=e.key,r.arrayItem.push(t),r.usersObject=r.arrayItem[0],r.userKey=r.arrayItem[0].$key,r.userName=r.arrayItem[0].username,r.userImage=r.arrayItem[0].image})})}return e.prototype.getUser=function(){if(void 0!=this.userObject||null!=this.userObject){return this.firebasedb.object("users/"+this.userObject.uid)}},e.prototype.getUsers=function(e){return this.firebasedb.object("users/"+e)},e.prototype.getAuthUser=function(){return console.log(this.userAuth),this.userAuth=l.auth().currentUser},e.prototype.updateSignIEmail=function(e){l.auth().currentUser.updateEmail(e).then(function(e){console.log("Update Successful")}).catch(function(e){console.log(e.message)})},e.prototype.reauthenticateUser=function(e){var t=this,o=l.auth().currentUser,s=l.auth.EmailAuthProvider.credential(e.email,e.password);o.reauthenticateAndRetrieveDataWithCredential(s).then(function(e){t.authenticated=!0}).catch(function(e){})},e.prototype.updateSignInPassword=function(e){var t=this;l.auth().currentUser.updatePassword(e).then(function(e){console.log("Update Successful")}).catch(function(e){t.errorMessageReauth=e.message;t.alertCtrl.create({title:"Login",inputs:[{name:"email",placeholder:"Email"},{name:"password",placeholder:"Password",type:"password"}],buttons:[{text:"Cancel",role:"cancel",handler:function(e){console.log("Canceled Clicked")}},{text:"Login",handler:function(e){if(console.log(e),!e.password)return!1;t.reauthenticateUser(e)}}]}).present(),console.log(e.message)})},e.prototype.verifyEmail=function(e){console.log(l.auth().currentUser.email);var t={url:"http://demo.sarutech.com/nessty/#/verified/"+l.auth().currentUser.email,handleCodeInApp:!1,android:{packageName:"com.nessty.app",installApp:!0},dynamicLinkDomain:"nesstyapp.page.link"};console.log(e);var o=l.auth().currentUser;console.log(o),o.sendEmailVerification(t).then(function(e){console.log("Email sent")}).catch(function(e){console.log(e)})},e.prototype.resetPassword=function(e){var t=this;console.log(e);return l.auth().sendPasswordResetEmail(e).then(function(e){console.log("Email Sent")}).catch(function(e){t.errorMessageReset=e.message,console.log(e.message)})},e.prototype.category=function(e){this.categoryList=this.getCategories(),this.categoryList.push({userid:this.userKey,categoryid:e.id,name:e.name,link:e.link,togglestatus:e.togglestatus})},e.prototype.categoryRef=function(e){this.categoryList=this.getCategories(),this.categoryListRef.child(e.id+this.userKey).set({userid:this.userKey,categoryid:e.id,name:e.name,link:e.link,togglestatus:e.togglestatus})},e.prototype.post=function(e){this.postList=this.getPost(this.limit),this.postList.push({userid:this.userKey,content:e.content,time:e.time,hearts:e.hearts,comments:e.comments})},e.prototype.alert=function(e){this.alertList=this.getAlert(this.limit),this.alertList.push({userid:this.userKey,postid:e.postid,time:e.time,action:e.action,color:e.color,status:e.status,commentid:e.commentid,image:e.image,username:e.username,post:e.post,comment:e.comment,postuserid:e.postuserid})},e.prototype.updateAlert=function(e){console.log(e),this.alertListRef.child(e.$key).update({userid:this.userKey,postid:e.postid,time:e.time,action:e.action,color:e.color,status:e.status,commentid:e.commentid,image:e.image,username:e.username,post:e.post,comment:e.comment,postuserid:e.postuserid})},e.prototype.comment=function(e){this.commentTime=e.time,this.commentList=this.getComments(),this.commentList.push({userid:this.userKey,postid:e.postid,comment:e.comment,time:e.time})},e.prototype.likePost=function(e){this.postLike=this.firebasedb.list("postlikes"),this.postLikeRef.child(e.postid+this.userKey).set({userid:this.userKey,postid:e.postid,status:!0})},e.prototype.alertCustomId=function(e){console.log(e),this.alertListRef.child(e.postid+this.userKey).set({userid:this.userKey,postid:e.postid,time:e.time,action:e.action,color:e.color,status:e.status,commentid:e.commentid,image:e.image,username:e.username,post:e.post,comment:e.comment,message:e.message,postuserid:e.postuserid})},e.prototype.alertCustomId2=function(e){this.alertListRef.child((1e3*this.commentTime).toString()+this.userKey).set({userid:this.userKey,postid:e.postid,time:e.time,action:e.action,color:e.color,status:e.status,commentid:e.commentid,image:e.image,username:e.username,post:e.post,comment:e.comment,message:e.message,postuserid:e.postuserid})},e.prototype.updatePost=function(e){this.postListRef.child(e.$key).update({userid:e.userid,content:e.content,hearts:e.hearts,comments:e.comments})},e.prototype.updatePostTime=function(e){this.postListRef.child(e.$key).update({userid:this.userKey,content:e.content,time:e.time,hearts:e.hearts,comments:e.comments})},e.prototype.getLikePost=function(){return this.firebasedb.list("postlikes")},e.prototype.deleteLikePost=function(e){return this.postLikeRef.child(e).remove()},e.prototype.deleteAlert=function(e){return this.alertListRef.child(e).remove()},e.prototype.deletePost=function(e){return this.postListRef.child(e).remove()},e.prototype.deleteCategory=function(e){this.categoryListRef.child(e).remove()},e.prototype.deleteMultiplePost=function(e){this.postList.remove(e.$key)},e.prototype.deleteComment=function(e){this.commentListRef.child(e).remove()},e.prototype.getSingleLikePost=function(e){return this.firebasedb.object("postlikes/"+e)},e.prototype.getPost=function(e){return this.firebasedb.list("posts",function(t){return t.limitToLast(e).orderByKey()})},e.prototype.getCategories=function(){return this.firebasedb.list("categories",function(e){return e.orderByKey()})},e.prototype.getAlert=function(e){return this.firebasedb.list("alerts",function(t){return t.limitToLast(e).orderByKey()})},e.prototype.getAllUsers=function(){return this.firebasedb.list("users")},e.prototype.getAlerts=function(){return this.firebasedb.list("alerts")},e.prototype.getMorePost=function(){return this.firebasedb.list("posts")},e.prototype.getSinglePost=function(e){return this.firebasedb.object("posts/"+e)},e.prototype.getSingleAlert=function(e){return this.firebasedb.object("alerts/"+e)},e.prototype.getSingleComment=function(e){return this.firebasedb.object("comments/"+e)},e.prototype.getComments=function(){return this.firebasedb.list("comments")},e.prototype.getMoreComments=function(e){return this.firebasedb.list("comments",function(e){return e.orderByKey()})},e.prototype.getCommentLastId=function(){return this.firebasedb.list("comments")},e.prototype.getPostLastId=function(){return this.firebasedb.list("posts",function(e){return e.limitToFirst(1).orderByKey()})},e.prototype.getAlertLastId=function(){return this.firebasedb.list("alerts",function(e){return e.limitToFirst(1).orderByKey()})},e.prototype.authUser=function(){return this.user},Object.defineProperty(e.prototype,"currentUserId",{get:function(){return null!==this.authState?this.authState.user.uid:""},enumerable:!0,configurable:!0}),e.prototype.login=function(e){var t=this;return this.afAuth.auth.signInWithEmailAndPassword(e.email,e.password).then(function(o){t.authState=o,t.arrayUsers=o,e.online=!0,t.onlineStatus(e);var s=o.user.emailVerified,i=JSON.parse(localStorage.getItem("emailVerification"));console.log(i),t.localStorageItem=localStorage.setItem("emailVerification",s.toString())})},e.prototype.updatePoints=function(e){var t=this;return this.getUsers(e.user.uid).snapshotChanges().subscribe(function(e){t.arrayUsers=[];var o=e.payload.toJSON();o.$key=e.key,t.userObjects=o,t.arrayUsers.push(t.userObjects),t.arrayUsers.forEach(function(e){e.points=e.points+1,console.log(e),t.updateUser(e)})})},e.prototype.logout=function(){this.afAuth.auth.signOut()},e.prototype.signUp=function(e){var t=this;return this.errorMessage=" ",this.afAuth.auth.createUserWithEmailAndPassword(e.email,e.password).then(function(o){t.authState=o,console.log(t.authState);t.insertUser(e);var s=t.authState.user.emailVerified;t.localStorageItem=localStorage.setItem("emailVerification",s.toString()),console.log(t.authState)}).catch(function(e){t.errorMessage=e.message,console.log(e)})},e.prototype.insertUser=function(e){var t={username:e.username,email:e.email,points:e.points,image:e.image,status:e.status,blobFile:e.blobFile,online:e.online};this.firebasedb.object("users/"+this.currentUserId).update(t)},e.prototype.onlineStatus=function(e){},e.prototype.takePhotograph=function(){var e=this;return new Promise(function(t){e._CAMERA.getPicture({destinationType:e._CAMERA.DestinationType.DATA_URL,targetWidth:320,targetHeight:240}).then(function(o){e.cameraImage="data:image/jpeg;base64,"+o,t(e.cameraImage)})})},e.prototype.selectPhotograph=function(){var e=this;return new Promise(function(t){e._CAMERA.getPicture({sourceType:e._CAMERA.PictureSourceType.PHOTOLIBRARY,destinationType:e._CAMERA.DestinationType.DATA_URL,quality:100,targetWidth:320,targetHeight:240,encodingType:e._CAMERA.EncodingType.JPEG,correctOrientation:!0}).then(function(o){e.cameraImage="data:image/jpeg;base64,"+o,t(e.cameraImage)})})},e.prototype.updateUser=function(e){var t=this;return this.userListRef.child(e.$key).update({username:e.username,email:e.email,points:e.points,image:e.image,status:e.status,blobFile:e.blobFile,online:e.online}).then(function(o){t.updateSignIEmail(e.email),""!==e.blobFile&&t.uploadFiles(e)})},e.prototype.updateUser2=function(e){console.log(e),this.userListRef.child(e.$key).update({username:e.username,email:e.email,points:e.points,image:e.image,status:e.status,online:e.online})},e.prototype.uploadFiles=function(e){var t=this;console.log(e);var o=e.blobFile.name,s=l.storage().ref();s.child("users/"+o).put(e.blobFile).on(l.storage.TaskEvent.STATE_CHANGED,function(e){},function(e){console.log(e)},function(){s.child("users/"+o).getDownloadURL().then(function(o){e.image=o,t.saveFileData(e)})})},e.prototype.saveFileData=function(e){this.userListRef.child(e.$key).update({image:e.image})},e=c([Object(i.Injectable)(),p("design:paramtypes",[s.a,a.a,n.b,r.a,u.a])],e)}()}},[308]);